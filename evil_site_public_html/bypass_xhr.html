<html>
 <head>
   <title> Evil Hacker Web Server (CORS BYPASS USING XHR)</title>
 </head>
 <body>
   <div>
     <script>
        var xhr = new XMLHttpRequest();

        xhr.open('GET', 'https://cors-anywhere.herokuapp.com/http://trustedsite.com/owasp_bug.png', true);
        xhr.responseType = 'blob';
        // xhr.setRequestHeader('Origin','http://trustedsite.com');

        let data = {
          headers: {
            Origin: "http://trustedsite.com"
         }
        };

        xhr.onload = function(e) {
          var url = URL.createObjectURL(this.response); // ! URL may need prefix
          var img = new Image();

          img.onload = function() {
              URL.revokeObjectURL(this.src);            // auto-revoke can be set in some browsers
              var ctx = canvas.getContext('2d');
              ctx.drawImage(this, 0, 0, canvas.width, canvas.height)
          };

          img.src = url;
        };
        xhr.send(JSON.stringify(data));
     </script>
    </div>
 </body>
</html>
